!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/Observable"),require("@angular/core"),require("rxjs/add/observable/of"),require("rxjs/add/operator/mergeMap")):"function"==typeof define&&define.amd?define("ng-gapi-v2",["exports","rxjs/Observable","@angular/core","rxjs/add/observable/of","rxjs/add/operator/mergeMap"],t):t(e["ng-gapi-v2"]={},e.rxjs.Observable,e.ng.core)}(this,function(e,t,o){"use strict";var n=function(){function e(e){this.clientConfig=e}return e.prototype.getClientConfig=function(){return this.clientConfig},e}(),r=new o.InjectionToken("ng-gapi.config"),i=function(){function e(){this.gapiUrl="https://apis.google.com/js/api.js"}return e.prototype.onInitialise=function(e){this.config=new n(e),this.loadGapi().subscribe()},e.prototype.onLoad=function(){return this.loadGapi()},e.prototype.getConfig=function(){return this.config},e.prototype.loadGapi=function(){var o=this;return t.Observable.create(function(e){var t=document.createElement("script");t.src=o.gapiUrl,t.type="text/javascript",t.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){e.next(!0),e.complete()}})},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(),a=function(){function e(e){var t=this;this.googleApi=e,this.GoogleAuth=undefined,this.googleApi.onLoad().subscribe(function(){t.loadGapiAuth()})}return e.prototype.getAuth=function(){var e=this;return this.GoogleAuth?t.Observable.of(this.GoogleAuth):this.googleApi.onLoad().mergeMap(function(){return e.loadGapiAuth()})},e.prototype.loadGapiAuth=function(){var o=this;return t.Observable.create(function(t){gapi.load("auth2",function(){gapi.auth2.init(o.googleApi.getConfig().getClientConfig()).then(function(e){o.GoogleAuth=e,t.next(e),t.complete()})})})},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:i}]},e}(),u=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[e,a,i]}},t.decorators=[{type:o.NgModule}],t}();e.GoogleApiModule=u,e.GoogleAuthService=a,e.NG_GAPI_CONFIG=r,e.GoogleApiService=i,e.GoogleApiConfig=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-gapi-v2.umd.min.js.map